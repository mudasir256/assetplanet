{"ast":null,"code":"import _slicedToArray from \"/Users/mudasirbukhari/Desktop/techbucks/ApMudasirzip/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mudasirbukhari/Desktop/techbucks/ApMudasirzip/src/newComponents/Timer.js\";\nimport React, { useEffect, useRef, useState } from \"react\";\n// import \"./styles.css\";\n\nexport default function Timer(props) {\n  var timing = props.Time * 3600;\n  var Start = new Date(props.startTime);\n  var StartDBTime = Start.getTime();\n  var CurrentTime = new Date().getTime();\n  var estimateTime = CurrentTime - StartDBTime;\n  var remaingTime = props.Time * 3600000 - estimateTime;\n  // console.log(\"StartDBTime\", StartDBTime)\n  // console.log(\"CurrentTime\", CurrentTime)\n  // console.log(\"estimateTime\", estimateTime)\n  // console.log(\"remaingTime\", remaingTime/1000)\n\n  var remain = Math.ceil(remaingTime / 1000);\n  var newtime = CurrentTime - timing;\n  // console.log(\"newtime\", remain)\n  //   console.log(\"props.timerState\", props.timerState);\n  var _useState = useState(remain),\n    _useState2 = _slicedToArray(_useState, 2),\n    time = _useState2[0],\n    setTime = _useState2[1];\n  var interval = useRef();\n  useEffect(function () {\n    interval.current = setInterval(function () {\n      setTime(function (time) {\n        props.timerState(time - 1);\n        return time - 1;\n      });\n    }, 1000);\n  }, []);\n  useEffect(function () {\n    console.log(time, \"fgjhkljhg\", remain);\n    if (time <= 0 && interval.current) {\n      console.log(\"stopping time\");\n      clearInterval(interval.current);\n    }\n  }, [time]);\n  // console.log(\"timer\",time)\n  //   console.log(\"time in timer\",time)\n\n  return time >= 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Time left: \", parseInt(\"\".concat(Math.floor(time / 3600)).padStart(2, 0)), \" \", \"Hours, \", parseInt(\"\".concat(Math.floor(time % 3600 / 60)).padStart(2, 0)), \" \", \"Minutes, \", parseInt(\"\".concat(time % 60).padStart(2, 0)), \" Seconds\"));\n}","map":{"version":3,"names":["React","useEffect","useRef","useState","Timer","props","timing","Time","Start","Date","startTime","StartDBTime","getTime","CurrentTime","estimateTime","remaingTime","remain","Math","ceil","newtime","_useState","_useState2","_slicedToArray","time","setTime","interval","current","setInterval","timerState","console","log","clearInterval","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","parseInt","concat","floor","padStart"],"sources":["/Users/mudasirbukhari/Desktop/techbucks/ApMudasirzip/src/newComponents/Timer.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\n// import \"./styles.css\";\n\nexport default function Timer(props) {\n  let timing = props.Time * 3600;\n\n  let Start = new Date(props.startTime);\n  let StartDBTime = Start.getTime();\n  var CurrentTime = new Date().getTime();\n  let estimateTime = CurrentTime - StartDBTime;\n  let remaingTime = props.Time * 3600000 - estimateTime;\n  // console.log(\"StartDBTime\", StartDBTime)\n  // console.log(\"CurrentTime\", CurrentTime)\n  // console.log(\"estimateTime\", estimateTime)\n  // console.log(\"remaingTime\", remaingTime/1000)\n\n  let remain = Math.ceil(remaingTime / 1000);\n\n  var newtime = CurrentTime - timing;\n  // console.log(\"newtime\", remain)\n  //   console.log(\"props.timerState\", props.timerState);\n  const [time, setTime] = useState(remain);\n  const interval = useRef();\n  useEffect(()=>{\n    interval.current = setInterval(()=>{\n        setTime((time)=>{\n            props.timerState(time-1);\n             return time-1\n            })\n    },1000)\n},[])\n  useEffect(() => {\n    console.log(time,\"fgjhkljhg\",remain);\n\n    if(time<=0 && interval.current) {\n        console.log(\"stopping time\");\n        clearInterval(interval.current)}\n  }, [time]);\n  // console.log(\"timer\",time)\n//   console.log(\"time in timer\",time)\n\n  return (\n    time >= 0 && (\n      <div className=\"App\">\n        <p>\n          Time left: {parseInt(`${Math.floor(time / 3600)}`.padStart(2, 0))}{\" \"}\n          Hours, {parseInt(`${Math.floor((time % 3600) / 60)}`.padStart(2, 0))}{\" \"}\n          Minutes, {parseInt(`${time % 60}`.padStart(2, 0))} Seconds\n        </p>\n      </div>\n    )\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC1D;;AAEA,eAAe,SAASC,KAAKA,CAACC,KAAK,EAAE;EACnC,IAAIC,MAAM,GAAGD,KAAK,CAACE,IAAI,GAAG,IAAI;EAE9B,IAAIC,KAAK,GAAG,IAAIC,IAAI,CAACJ,KAAK,CAACK,SAAS,CAAC;EACrC,IAAIC,WAAW,GAAGH,KAAK,CAACI,OAAO,CAAC,CAAC;EACjC,IAAIC,WAAW,GAAG,IAAIJ,IAAI,CAAC,CAAC,CAACG,OAAO,CAAC,CAAC;EACtC,IAAIE,YAAY,GAAGD,WAAW,GAAGF,WAAW;EAC5C,IAAII,WAAW,GAAGV,KAAK,CAACE,IAAI,GAAG,OAAO,GAAGO,YAAY;EACrD;EACA;EACA;EACA;;EAEA,IAAIE,MAAM,GAAGC,IAAI,CAACC,IAAI,CAACH,WAAW,GAAG,IAAI,CAAC;EAE1C,IAAII,OAAO,GAAGN,WAAW,GAAGP,MAAM;EAClC;EACA;EAAA,IAAAc,SAAA,GACwBjB,QAAQ,CAACa,MAAM,CAAC;IAAAK,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAAjCG,IAAI,GAAAF,UAAA;IAAEG,OAAO,GAAAH,UAAA;EACpB,IAAMI,QAAQ,GAAGvB,MAAM,CAAC,CAAC;EACzBD,SAAS,CAAC,YAAI;IACZwB,QAAQ,CAACC,OAAO,GAAGC,WAAW,CAAC,YAAI;MAC/BH,OAAO,CAAC,UAACD,IAAI,EAAG;QACZlB,KAAK,CAACuB,UAAU,CAACL,IAAI,GAAC,CAAC,CAAC;QACvB,OAAOA,IAAI,GAAC,CAAC;MACd,CAAC,CAAC;IACV,CAAC,EAAC,IAAI,CAAC;EACX,CAAC,EAAC,EAAE,CAAC;EACHtB,SAAS,CAAC,YAAM;IACd4B,OAAO,CAACC,GAAG,CAACP,IAAI,EAAC,WAAW,EAACP,MAAM,CAAC;IAEpC,IAAGO,IAAI,IAAE,CAAC,IAAIE,QAAQ,CAACC,OAAO,EAAE;MAC5BG,OAAO,CAACC,GAAG,CAAC,eAAe,CAAC;MAC5BC,aAAa,CAACN,QAAQ,CAACC,OAAO,CAAC;IAAA;EACrC,CAAC,EAAE,CAACH,IAAI,CAAC,CAAC;EACV;EACF;;EAEE,OACEA,IAAI,IAAI,CAAC,iBACPvB,KAAA,CAAAgC,aAAA;IAAKC,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClBvC,KAAA,CAAAgC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,aACU,EAACC,QAAQ,CAAC,GAAAC,MAAA,CAAGxB,IAAI,CAACyB,KAAK,CAACnB,IAAI,GAAG,IAAI,CAAC,EAAGoB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,EAAC,SAChE,EAACH,QAAQ,CAAC,GAAAC,MAAA,CAAGxB,IAAI,CAACyB,KAAK,CAAEnB,IAAI,GAAG,IAAI,GAAI,EAAE,CAAC,EAAGoB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,EAAC,WACjE,EAACH,QAAQ,CAAC,GAAAC,MAAA,CAAGlB,IAAI,GAAG,EAAE,EAAGoB,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAC,UACjD,CACA,CACN;AAEL"},"metadata":{},"sourceType":"module"}